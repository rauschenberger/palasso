some <- all[!all %in% c("palasso.bib","palasso.Rnw","article.Rmd","vignette.Rmd")]
sapply(some,function(x) file.remove(file.path(pkg,"vignettes",x)))
setwd(dir=pkg)
unlink(file.path(pkg,"docs"),recursive=TRUE)
pkgdown::init_site()
pkgdown::build_home()
pkgdown::build_reference()
pkgdown::build_articles()
pkgdown::build_tutorials()
pkgdown::build_news()
#pkgdown::build_site(pkg=pkg,seed=1)
file.remove(file.path(pkg,".Rbuildignore"))
#usethis::use_appveyor(pkg=pkg)
usethis::use_build_ignore(files=c("Readme.rmd",".travis.yml","_pkgdown.yml","docs","cran-comments.md","appveyor.yml"))
#usethis::use_build_ignore(files=".travis.yml",pkg=pkg)
#devtools::use_build_ignore("_pkgdown.yml",pkg=pkg)
#devtools::use_build_ignore("docs",pkg=pkg)
devtools::check(pkg=pkg,quiet=FALSE,manual=TRUE)
devtools::build(pkg=pkg)
devtools::build(pkg=pkg,binary=TRUE) # only for zip file
version <- substring(text=readLines(file.path(pkg,"DESCRIPTION"))[[2]],first=10)
archive <- paste0("E:/USB_KEY/palasso/package/palasso_",version,".tar.gz")
# BiocCheck::BiocCheck(archive)
utils::install.packages(archive,repos=NULL)
###############
### palasso ###
###############
#--- generate toydata ----------------------------------------------------------
set.seed(1)
n <- 30; p <- 50
y <- stats::rnorm(n=n)
X <- lapply(1:2,function(x) matrix(stats::rnorm(n*p),nrow=n,ncol=p))
toydata <- list(y=y,X=X)
save(toydata,file=file.path("E:/USB_KEY/palasso/package/toydata.RData"))
#--- compile package -----------------------------------------------------------
rm(list=ls())
load("E:/USB_KEY/palasso/package/toydata.RData")
pkg <- 'E:/USB_KEY/palasso/package/palasso'
setwd(dir=pkg)
devtools::as.package(x=pkg,create=FALSE)
devtools::load_all(path=pkg)
usethis::use_data(toydata,overwrite=TRUE)
devtools::document(pkg=pkg)
unlink(file.path(pkg,"vignettes","figure"),recursive=TRUE)
all <- dir(file.path(pkg,"vignettes"))
some <- all[!all %in% c("palasso.bib","palasso.Rnw","article.Rmd","vignette.Rmd")]
sapply(some,function(x) file.remove(file.path(pkg,"vignettes",x)))
setwd(dir=pkg)
unlink(file.path(pkg,"docs"),recursive=TRUE)
pkgdown::init_site()
pkgdown::build_home()
pkgdown::build_reference()
pkgdown::build_articles()
pkgdown::build_tutorials()
pkgdown::build_news()
#pkgdown::build_site(pkg=pkg,seed=1)
file.remove(file.path(pkg,".Rbuildignore"))
#usethis::use_appveyor(pkg=pkg)
usethis::use_build_ignore(files=c("Readme.rmd",".travis.yml","_pkgdown.yml","docs","cran-comments.md","appveyor.yml"))
#usethis::use_build_ignore(files=".travis.yml",pkg=pkg)
#devtools::use_build_ignore("_pkgdown.yml",pkg=pkg)
#devtools::use_build_ignore("docs",pkg=pkg)
devtools::check(pkg=pkg,quiet=FALSE,manual=TRUE)
devtools::build(pkg=pkg)
devtools::build(pkg=pkg,binary=TRUE) # only for zip file
version <- substring(text=readLines(file.path(pkg,"DESCRIPTION"))[[2]],first=10)
archive <- paste0("E:/USB_KEY/palasso/package/palasso_",version,".tar.gz")
# BiocCheck::BiocCheck(archive)
utils::install.packages(archive,repos=NULL)
###############
### palasso ###
###############
#--- generate toydata ----------------------------------------------------------
set.seed(1)
n <- 30; p <- 50
y <- stats::rnorm(n=n)
X <- lapply(1:2,function(x) matrix(stats::rnorm(n*p),nrow=n,ncol=p))
toydata <- list(y=y,X=X)
save(toydata,file=file.path("E:/USB_KEY/palasso/package/toydata.RData"))
#--- compile package -----------------------------------------------------------
rm(list=ls())
load("E:/USB_KEY/palasso/package/toydata.RData")
pkg <- 'E:/USB_KEY/palasso/package/palasso'
setwd(dir=pkg)
devtools::as.package(x=pkg,create=FALSE)
devtools::load_all(path=pkg)
usethis::use_data(toydata,overwrite=TRUE)
devtools::document(pkg=pkg)
unlink(file.path(pkg,"vignettes","figure"),recursive=TRUE)
all <- dir(file.path(pkg,"vignettes"))
some <- all[!all %in% c("palasso.bib","palasso.Rnw","article.Rmd","vignette.Rmd")]
sapply(some,function(x) file.remove(file.path(pkg,"vignettes",x)))
setwd(dir=pkg)
unlink(file.path(pkg,"docs"),recursive=TRUE)
#pkgdown::init_site()
#pkgdown::build_home()
#pkgdown::build_reference()
#pkgdown::build_articles()
#pkgdown::build_tutorials()
#pkgdown::build_news()
pkgdown::build_site(pkg=pkg,seed=1)
file.remove(file.path(pkg,".Rbuildignore"))
#usethis::use_appveyor(pkg=pkg)
usethis::use_build_ignore(files=c("Readme.rmd",".travis.yml","_pkgdown.yml","docs","cran-comments.md","appveyor.yml"))
#usethis::use_build_ignore(files=".travis.yml",pkg=pkg)
#devtools::use_build_ignore("_pkgdown.yml",pkg=pkg)
#devtools::use_build_ignore("docs",pkg=pkg)
devtools::check(pkg=pkg,quiet=FALSE,manual=TRUE)
devtools::build(pkg=pkg)
devtools::build(pkg=pkg,binary=TRUE) # only for zip file
version <- substring(text=readLines(file.path(pkg,"DESCRIPTION"))[[2]],first=10)
archive <- paste0("E:/USB_KEY/palasso/package/palasso_",version,".tar.gz")
# BiocCheck::BiocCheck(archive)
utils::install.packages(archive,repos=NULL)
###############
### palasso ###
###############
#--- generate toydata ----------------------------------------------------------
set.seed(1)
n <- 30; p <- 50
y <- stats::rnorm(n=n)
X <- lapply(1:2,function(x) matrix(stats::rnorm(n*p),nrow=n,ncol=p))
toydata <- list(y=y,X=X)
save(toydata,file=file.path("E:/USB_KEY/palasso/package/toydata.RData"))
#--- compile package -----------------------------------------------------------
rm(list=ls())
load("E:/USB_KEY/palasso/package/toydata.RData")
pkg <- 'E:/USB_KEY/palasso/package/palasso'
setwd(dir=pkg)
devtools::as.package(x=pkg,create=FALSE)
devtools::load_all(path=pkg)
usethis::use_data(toydata,overwrite=TRUE)
devtools::document(pkg=pkg)
unlink(file.path(pkg,"vignettes","figure"),recursive=TRUE)
all <- dir(file.path(pkg,"vignettes"))
some <- all[!all %in% c("palasso.bib","palasso.Rnw","article.Rmd","vignette.Rmd")]
sapply(some,function(x) file.remove(file.path(pkg,"vignettes",x)))
setwd(dir=pkg)
unlink(file.path(pkg,"docs"),recursive=TRUE)
#pkgdown::init_site()
#pkgdown::build_home()
#pkgdown::build_reference()
#pkgdown::build_articles()
#pkgdown::build_tutorials()
#pkgdown::build_news()
pkgdown::build_site(pkg=pkg,seed=1)
file.remove(file.path(pkg,".Rbuildignore"))
#usethis::use_appveyor(pkg=pkg)
usethis::use_build_ignore(files=c("Readme.rmd",".travis.yml","_pkgdown.yml","docs","cran-comments.md","appveyor.yml"))
#usethis::use_build_ignore(files=".travis.yml",pkg=pkg)
#devtools::use_build_ignore("_pkgdown.yml",pkg=pkg)
#devtools::use_build_ignore("docs",pkg=pkg)
devtools::check(pkg=pkg,quiet=FALSE,manual=TRUE)
devtools::build(pkg=pkg)
devtools::build(pkg=pkg,binary=TRUE) # only for zip file
version <- substring(text=readLines(file.path(pkg,"DESCRIPTION"))[[2]],first=10)
archive <- paste0("E:/USB_KEY/palasso/package/palasso_",version,".tar.gz")
# BiocCheck::BiocCheck(archive)
utils::install.packages(archive,repos=NULL)
#--- generate toydata ----------------------------------------------------------
set.seed(1)
n <- 30; p <- 50
y <- stats::rnorm(n=n)
X <- lapply(1:2,function(x) matrix(stats::rnorm(n*p),nrow=n,ncol=p))
toydata <- list(y=y,X=X)
save(toydata,file=file.path("E:/USB_KEY/palasso/package/toydata.RData"))
#--- compile package -----------------------------------------------------------
rm(list=ls())
load("E:/USB_KEY/palasso/package/toydata.RData")
pkg <- 'E:/USB_KEY/palasso/package/palasso'
setwd(dir=pkg)
devtools::as.package(x=pkg,create=FALSE)
devtools::load_all(path=pkg)
usethis::use_data(toydata,overwrite=TRUE)
devtools::document(pkg=pkg)
unlink(file.path(pkg,"vignettes","figure"),recursive=TRUE)
all <- dir(file.path(pkg,"vignettes"))
some <- all[!all %in% c("palasso.bib","palasso.Rnw","article.Rmd","vignette.Rmd")]
sapply(some,function(x) file.remove(file.path(pkg,"vignettes",x)))
setwd(dir=pkg)
unlink(file.path(pkg,"docs"),recursive=TRUE)
pkgdown::init_site()
pkgdown::build_home()
pkgdown::build_reference()
pkgdown::build_articles()
pkgdown::build_tutorials()
pkgdown::build_news()
#pkgdown::build_site(pkg=pkg,seed=1)
file.remove(file.path(pkg,".Rbuildignore"))
#usethis::use_appveyor(pkg=pkg)
usethis::use_build_ignore(files=c("Readme.rmd",".travis.yml","_pkgdown.yml","docs","cran-comments.md","appveyor.yml"))
#usethis::use_build_ignore(files=".travis.yml",pkg=pkg)
#devtools::use_build_ignore("_pkgdown.yml",pkg=pkg)
#devtools::use_build_ignore("docs",pkg=pkg)
devtools::check(pkg=pkg,quiet=FALSE,manual=TRUE)
devtools::build(pkg=pkg)
devtools::build(pkg=pkg,binary=TRUE) # only for zip file
version <- substring(text=readLines(file.path(pkg,"DESCRIPTION"))[[2]],first=10)
archive <- paste0("E:/USB_KEY/palasso/package/palasso_",version,".tar.gz")
# BiocCheck::BiocCheck(archive)
utils::install.packages(archive,repos=NULL)
#--- generate toydata ----------------------------------------------------------
set.seed(1)
n <- 30; p <- 50
y <- stats::rnorm(n=n)
X <- lapply(1:2,function(x) matrix(stats::rnorm(n*p),nrow=n,ncol=p))
toydata <- list(y=y,X=X)
save(toydata,file=file.path("E:/USB_KEY/palasso/package/toydata.RData"))
#--- compile package -----------------------------------------------------------
rm(list=ls())
load("E:/USB_KEY/palasso/package/toydata.RData")
pkg <- 'E:/USB_KEY/palasso/package/palasso'
setwd(dir=pkg)
devtools::as.package(x=pkg,create=FALSE)
devtools::load_all(path=pkg)
usethis::use_data(toydata,overwrite=TRUE)
devtools::document(pkg=pkg)
unlink(file.path(pkg,"vignettes","figure"),recursive=TRUE)
all <- dir(file.path(pkg,"vignettes"))
some <- all[!all %in% c("palasso.bib","palasso.Rnw","article.Rmd","vignette.Rmd")]
sapply(some,function(x) file.remove(file.path(pkg,"vignettes",x)))
setwd(dir=pkg)
unlink(file.path(pkg,"docs"),recursive=TRUE)
pkgdown::init_site()
pkgdown::build_home()
pkgdown::build_reference()
pkgdown::build_articles()
pkgdown::build_tutorials()
pkgdown::build_news()
#pkgdown::build_site(pkg=pkg,seed=1)
file.remove(file.path(pkg,".Rbuildignore"))
#usethis::use_appveyor(pkg=pkg)
usethis::use_build_ignore(files=c("Readme.rmd",".travis.yml","_pkgdown.yml","docs","cran-comments.md","appveyor.yml"))
#usethis::use_build_ignore(files=".travis.yml",pkg=pkg)
#devtools::use_build_ignore("_pkgdown.yml",pkg=pkg)
#devtools::use_build_ignore("docs",pkg=pkg)
devtools::check(pkg=pkg,quiet=FALSE,manual=TRUE)
devtools::build(pkg=pkg)
devtools::build(pkg=pkg,binary=TRUE) # only for zip file
version <- substring(text=readLines(file.path(pkg,"DESCRIPTION"))[[2]],first=10)
archive <- paste0("E:/USB_KEY/palasso/package/palasso_",version,".tar.gz")
# BiocCheck::BiocCheck(archive)
utils::install.packages(archive,repos=NULL)
#--- generate toydata ----------------------------------------------------------
set.seed(1)
n <- 30; p <- 50
y <- stats::rnorm(n=n)
X <- lapply(1:2,function(x) matrix(stats::rnorm(n*p),nrow=n,ncol=p))
toydata <- list(y=y,X=X)
save(toydata,file=file.path("E:/USB_KEY/palasso/package/toydata.RData"))
#--- compile package -----------------------------------------------------------
rm(list=ls())
load("E:/USB_KEY/palasso/package/toydata.RData")
pkg <- 'E:/USB_KEY/palasso/package/palasso'
setwd(dir=pkg)
devtools::as.package(x=pkg,create=FALSE)
devtools::load_all(path=pkg)
usethis::use_data(toydata,overwrite=TRUE)
devtools::document(pkg=pkg)
unlink(file.path(pkg,"vignettes","figure"),recursive=TRUE)
all <- dir(file.path(pkg,"vignettes"))
some <- all[!all %in% c("palasso.bib","palasso.Rnw","article.Rmd","vignette.Rmd")]
sapply(some,function(x) file.remove(file.path(pkg,"vignettes",x)))
setwd(dir=pkg)
unlink(file.path(pkg,"docs"),recursive=TRUE)
pkgdown::init_site()
pkgdown::build_home()
pkgdown::build_reference()
pkgdown::build_articles()
pkgdown::build_tutorials()
pkgdown::build_news()
#pkgdown::build_site(pkg=pkg,seed=1)
file.remove(file.path(pkg,".Rbuildignore"))
#usethis::use_appveyor(pkg=pkg)
usethis::use_build_ignore(files=c("Readme.rmd",".travis.yml","_pkgdown.yml","docs","cran-comments.md","appveyor.yml"))
#usethis::use_build_ignore(files=".travis.yml",pkg=pkg)
#devtools::use_build_ignore("_pkgdown.yml",pkg=pkg)
#devtools::use_build_ignore("docs",pkg=pkg)
devtools::check(pkg=pkg,quiet=FALSE,manual=TRUE)
devtools::build(pkg=pkg)
devtools::build(pkg=pkg,binary=TRUE) # only for zip file
version <- substring(text=readLines(file.path(pkg,"DESCRIPTION"))[[2]],first=10)
archive <- paste0("E:/USB_KEY/palasso/package/palasso_",version,".tar.gz")
# BiocCheck::BiocCheck(archive)
utils::install.packages(archive,repos=NULL)
#--- generate toydata ----------------------------------------------------------
set.seed(1)
n <- 30; p <- 50
y <- stats::rnorm(n=n)
X <- lapply(1:2,function(x) matrix(stats::rnorm(n*p),nrow=n,ncol=p))
toydata <- list(y=y,X=X)
save(toydata,file=file.path("E:/USB_KEY/palasso/package/toydata.RData"))
#--- compile package -----------------------------------------------------------
rm(list=ls())
load("E:/USB_KEY/palasso/package/toydata.RData")
pkg <- 'E:/USB_KEY/palasso/package/palasso'
setwd(dir=pkg)
devtools::as.package(x=pkg,create=FALSE)
devtools::load_all(path=pkg)
usethis::use_data(toydata,overwrite=TRUE)
devtools::document(pkg=pkg)
unlink(file.path(pkg,"vignettes","figure"),recursive=TRUE)
all <- dir(file.path(pkg,"vignettes"))
some <- all[!all %in% c("palasso.bib","palasso.Rnw","article.Rmd","vignette.Rmd")]
sapply(some,function(x) file.remove(file.path(pkg,"vignettes",x)))
setwd(dir=pkg)
unlink(file.path(pkg,"docs"),recursive=TRUE)
pkgdown::init_site()
pkgdown::build_home()
pkgdown::build_reference()
pkgdown::build_articles()
pkgdown::build_tutorials()
pkgdown::build_news()
#pkgdown::build_site(pkg=pkg,seed=1)
file.remove(file.path(pkg,".Rbuildignore"))
#usethis::use_appveyor(pkg=pkg)
usethis::use_build_ignore(files=c("Readme.rmd",".travis.yml","_pkgdown.yml","docs","cran-comments.md","appveyor.yml"))
#usethis::use_build_ignore(files=".travis.yml",pkg=pkg)
#devtools::use_build_ignore("_pkgdown.yml",pkg=pkg)
#devtools::use_build_ignore("docs",pkg=pkg)
devtools::check(pkg=pkg,quiet=FALSE,manual=TRUE)
devtools::build(pkg=pkg)
devtools::build(pkg=pkg,binary=TRUE) # only for zip file
version <- substring(text=readLines(file.path(pkg,"DESCRIPTION"))[[2]],first=10)
archive <- paste0("E:/USB_KEY/palasso/package/palasso_",version,".tar.gz")
# BiocCheck::BiocCheck(archive)
utils::install.packages(archive,repos=NULL)
###############
### palasso ###
###############
#--- generate toydata ----------------------------------------------------------
set.seed(1)
n <- 30; p <- 50
y <- stats::rnorm(n=n)
X <- lapply(1:2,function(x) matrix(stats::rnorm(n*p),nrow=n,ncol=p))
toydata <- list(y=y,X=X)
save(toydata,file=file.path("E:/USB_KEY/palasso/package/toydata.RData"))
#--- compile package -----------------------------------------------------------
rm(list=ls())
load("E:/USB_KEY/palasso/package/toydata.RData")
pkg <- 'E:/USB_KEY/palasso/package/palasso'
setwd(dir=pkg)
devtools::as.package(x=pkg,create=FALSE)
devtools::load_all(path=pkg)
usethis::use_data(toydata,overwrite=TRUE)
devtools::document(pkg=pkg)
unlink(file.path(pkg,"vignettes","figure"),recursive=TRUE)
all <- dir(file.path(pkg,"vignettes"))
some <- all[!all %in% c("palasso.bib","palasso.Rnw","article.Rmd","vignette.Rmd")]
sapply(some,function(x) file.remove(file.path(pkg,"vignettes",x)))
setwd(dir=pkg)
unlink(file.path(pkg,"docs"),recursive=TRUE)
pkgdown::init_site()
pkgdown::build_home()
pkgdown::build_reference()
pkgdown::build_articles()
pkgdown::build_tutorials()
pkgdown::build_news()
#pkgdown::build_site(pkg=pkg,seed=1)
file.remove(file.path(pkg,".Rbuildignore"))
#usethis::use_appveyor(pkg=pkg)
usethis::use_build_ignore(files=c("Readme.rmd",".travis.yml","_pkgdown.yml","docs","cran-comments.md","appveyor.yml"))
#usethis::use_build_ignore(files=".travis.yml",pkg=pkg)
#devtools::use_build_ignore("_pkgdown.yml",pkg=pkg)
#devtools::use_build_ignore("docs",pkg=pkg)
devtools::check(pkg=pkg,quiet=FALSE,manual=TRUE)
devtools::build(pkg=pkg)
devtools::build(pkg=pkg,binary=TRUE) # only for zip file
version <- substring(text=readLines(file.path(pkg,"DESCRIPTION"))[[2]],first=10)
archive <- paste0("E:/USB_KEY/palasso/package/palasso_",version,".tar.gz")
# BiocCheck::BiocCheck(archive)
utils::install.packages(archive,repos=NULL)
###############
### palasso ###
###############
#--- generate toydata ----------------------------------------------------------
set.seed(1)
n <- 30; p <- 50
y <- stats::rnorm(n=n)
X <- lapply(1:2,function(x) matrix(stats::rnorm(n*p),nrow=n,ncol=p))
toydata <- list(y=y,X=X)
save(toydata,file=file.path("E:/USB_KEY/palasso/package/toydata.RData"))
#--- compile package -----------------------------------------------------------
rm(list=ls())
load("E:/USB_KEY/palasso/package/toydata.RData")
pkg <- 'E:/USB_KEY/palasso/package/palasso'
setwd(dir=pkg)
devtools::as.package(x=pkg,create=FALSE)
devtools::load_all(path=pkg)
usethis::use_data(toydata,overwrite=TRUE)
devtools::document(pkg=pkg)
unlink(file.path(pkg,"vignettes","figure"),recursive=TRUE)
all <- dir(file.path(pkg,"vignettes"))
some <- all[!all %in% c("palasso.bib","palasso.Rnw","article.Rmd","vignette.Rmd")]
sapply(some,function(x) file.remove(file.path(pkg,"vignettes",x)))
setwd(dir=pkg)
unlink(file.path(pkg,"docs"),recursive=TRUE)
pkgdown::init_site()
pkgdown::build_home()
pkgdown::build_reference()
pkgdown::build_articles()
pkgdown::build_tutorials()
pkgdown::build_news()
#pkgdown::build_site(pkg=pkg,seed=1)
file.remove(file.path(pkg,".Rbuildignore"))
#usethis::use_appveyor(pkg=pkg)
usethis::use_build_ignore(files=c("Readme.rmd",".travis.yml","_pkgdown.yml","docs","cran-comments.md","appveyor.yml"))
#usethis::use_build_ignore(files=".travis.yml",pkg=pkg)
#devtools::use_build_ignore("_pkgdown.yml",pkg=pkg)
#devtools::use_build_ignore("docs",pkg=pkg)
devtools::check(pkg=pkg,quiet=FALSE,manual=TRUE)
devtools::build(pkg=pkg)
devtools::build(pkg=pkg,binary=TRUE) # only for zip file
version <- substring(text=readLines(file.path(pkg,"DESCRIPTION"))[[2]],first=10)
archive <- paste0("E:/USB_KEY/palasso/package/palasso_",version,".tar.gz")
# BiocCheck::BiocCheck(archive)
utils::install.packages(archive,repos=NULL)
###############
### palasso ###
###############
#--- generate toydata ----------------------------------------------------------
set.seed(1)
n <- 30; p <- 50
y <- stats::rnorm(n=n)
X <- lapply(1:2,function(x) matrix(stats::rnorm(n*p),nrow=n,ncol=p))
toydata <- list(y=y,X=X)
save(toydata,file=file.path("E:/USB_KEY/palasso/package/toydata.RData"))
#--- compile package -----------------------------------------------------------
rm(list=ls())
load("E:/USB_KEY/palasso/package/toydata.RData")
pkg <- 'E:/USB_KEY/palasso/package/palasso'
setwd(dir=pkg)
devtools::as.package(x=pkg,create=FALSE)
devtools::load_all(path=pkg)
usethis::use_data(toydata,overwrite=TRUE)
devtools::document(pkg=pkg)
unlink(file.path(pkg,"vignettes","figure"),recursive=TRUE)
all <- dir(file.path(pkg,"vignettes"))
some <- all[!all %in% c("palasso.bib","palasso.Rnw","article.Rmd","vignette.Rmd")]
sapply(some,function(x) file.remove(file.path(pkg,"vignettes",x)))
setwd(dir=pkg)
unlink(file.path(pkg,"docs"),recursive=TRUE)
pkgdown::init_site()
pkgdown::build_home()
pkgdown::build_reference()
pkgdown::build_articles()
pkgdown::build_tutorials()
pkgdown::build_news()
#pkgdown::build_site(pkg=pkg,seed=1)
file.remove(file.path(pkg,".Rbuildignore"))
#usethis::use_appveyor(pkg=pkg)
usethis::use_build_ignore(files=c("Readme.rmd",".travis.yml","_pkgdown.yml","docs","cran-comments.md","appveyor.yml"))
#usethis::use_build_ignore(files=".travis.yml",pkg=pkg)
#devtools::use_build_ignore("_pkgdown.yml",pkg=pkg)
#devtools::use_build_ignore("docs",pkg=pkg)
devtools::check(pkg=pkg,quiet=FALSE,manual=TRUE)
devtools::build(pkg=pkg)
devtools::build(pkg=pkg,binary=TRUE) # only for zip file
version <- substring(text=readLines(file.path(pkg,"DESCRIPTION"))[[2]],first=10)
archive <- paste0("E:/USB_KEY/palasso/package/palasso_",version,".tar.gz")
# BiocCheck::BiocCheck(archive)
utils::install.packages(archive,repos=NULL)
###############
### palasso ###
###############
#--- generate toydata ----------------------------------------------------------
set.seed(1)
n <- 30; p <- 50
y <- stats::rnorm(n=n)
X <- lapply(1:2,function(x) matrix(stats::rnorm(n*p),nrow=n,ncol=p))
toydata <- list(y=y,X=X)
save(toydata,file=file.path("E:/USB_KEY/palasso/package/toydata.RData"))
#--- compile package -----------------------------------------------------------
rm(list=ls())
load("E:/USB_KEY/palasso/package/toydata.RData")
pkg <- 'E:/USB_KEY/palasso/package/palasso'
setwd(dir=pkg)
devtools::as.package(x=pkg,create=FALSE)
devtools::load_all(path=pkg)
usethis::use_data(toydata,overwrite=TRUE)
devtools::document(pkg=pkg)
unlink(file.path(pkg,"vignettes","figure"),recursive=TRUE)
all <- dir(file.path(pkg,"vignettes"))
some <- all[!all %in% c("palasso.bib","palasso.Rnw","article.Rmd","vignette.Rmd")]
sapply(some,function(x) file.remove(file.path(pkg,"vignettes",x)))
setwd(dir=pkg)
unlink(file.path(pkg,"docs"),recursive=TRUE)
pkgdown::init_site()
pkgdown::build_home()
pkgdown::build_reference()
pkgdown::build_articles()
pkgdown::build_tutorials()
pkgdown::build_news()
#pkgdown::build_site(pkg=pkg,seed=1)
file.remove(file.path(pkg,".Rbuildignore"))
#usethis::use_appveyor(pkg=pkg)
usethis::use_build_ignore(files=c("Readme.rmd",".travis.yml","_pkgdown.yml","docs","cran-comments.md","appveyor.yml"))
#usethis::use_build_ignore(files=".travis.yml",pkg=pkg)
#devtools::use_build_ignore("_pkgdown.yml",pkg=pkg)
#devtools::use_build_ignore("docs",pkg=pkg)
devtools::check(pkg=pkg,quiet=FALSE,manual=TRUE)
devtools::build(pkg=pkg)
devtools::build(pkg=pkg,binary=TRUE) # only for zip file
version <- substring(text=readLines(file.path(pkg,"DESCRIPTION"))[[2]],first=10)
archive <- paste0("E:/USB_KEY/palasso/package/palasso_",version,".tar.gz")
# BiocCheck::BiocCheck(archive)
utils::install.packages(archive,repos=NULL)
system("git remote set-url origin https://rauschenberger:Merkel0517@github.com/rauschenberger/palasso.git")
system("git remote -v")
system("git add --all")
system("git commit -m \"automation\"")
system("git push origin master") # GitHub
